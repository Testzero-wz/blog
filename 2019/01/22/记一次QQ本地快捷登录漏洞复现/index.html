<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222"/>










  <meta name="google-site-verification" content="googlea4e6eb27cf4f8663.html"/>















<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2"/>

<link rel="stylesheet" href="/css/main.css?v=7.0.1"/>


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/avatar.jpg?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/avatar.jpg?v=7.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.0.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="èƒŒæ™¯ æ˜¨å¤©æˆ‘çš„ç©ºé—´å’ŒQç¾¤å‘å¸ƒäº†ä¸€äº›è«åå…¶å¦™çš„ä¸œè¥¿ï¼Œå¤§æ¦‚æ˜¯å› ä¸ºå‰ä¸¤å¤©å»ç½‘å§å¼€é»‘ç™»äº†QQã€‚èŠ±äº†ä¸€äº›æ—¶é—´ï¼Œå¼„æ¸…æ¥šäº†è¿™äº›æ¼æ´çš„åŸç†ï¼Œæäº†ä¸€ä¸‹å¤ç°ã€‚ æœ¬ç¯‡æ–‡ç« å°±æ¥è¯´ä¸€è¯´è¿™äº›é»‘é˜”æ˜¯æ€ä¹ˆå¸®æˆ‘å‘è¯´è¯´çš„ã€‚">
<meta name="keywords" content="ç ä»£ç ,æ¸—é€">
<meta property="og:type" content="article">
<meta property="og:title" content="è®°ä¸€æ¬¡QQæœ¬åœ°å¿«æ·ç™»å½•æ¼æ´å¤ç°">
<meta property="og:url" content="https://www.wzsite.cn/2019/01/22/è®°ä¸€æ¬¡QQæœ¬åœ°å¿«æ·ç™»å½•æ¼æ´å¤ç°/index.html">
<meta property="og:site_name" content="Wz&#39;s Blog">
<meta property="og:description" content="èƒŒæ™¯ æ˜¨å¤©æˆ‘çš„ç©ºé—´å’ŒQç¾¤å‘å¸ƒäº†ä¸€äº›è«åå…¶å¦™çš„ä¸œè¥¿ï¼Œå¤§æ¦‚æ˜¯å› ä¸ºå‰ä¸¤å¤©å»ç½‘å§å¼€é»‘ç™»äº†QQã€‚èŠ±äº†ä¸€äº›æ—¶é—´ï¼Œå¼„æ¸…æ¥šäº†è¿™äº›æ¼æ´çš„åŸç†ï¼Œæäº†ä¸€ä¸‹å¤ç°ã€‚ æœ¬ç¯‡æ–‡ç« å°±æ¥è¯´ä¸€è¯´è¿™äº›é»‘é˜”æ˜¯æ€ä¹ˆå¸®æˆ‘å‘è¯´è¯´çš„ã€‚">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://www.wzsite.cn/2019/01/22/è®°ä¸€æ¬¡QQæœ¬åœ°å¿«æ·ç™»å½•æ¼æ´å¤ç°/11-13-27.jpg">
<meta property="og:image" content="https://www.wzsite.cn/2019/01/22/è®°ä¸€æ¬¡QQæœ¬åœ°å¿«æ·ç™»å½•æ¼æ´å¤ç°/11-16-45.jpg">
<meta property="og:image" content="https://www.wzsite.cn/2019/01/22/è®°ä¸€æ¬¡QQæœ¬åœ°å¿«æ·ç™»å½•æ¼æ´å¤ç°/11-19-08.jpg">
<meta property="og:image" content="https://www.wzsite.cn/2019/01/22/è®°ä¸€æ¬¡QQæœ¬åœ°å¿«æ·ç™»å½•æ¼æ´å¤ç°/12-05-55.jpg">
<meta property="og:image" content="https://www.wzsite.cn/2019/01/22/è®°ä¸€æ¬¡QQæœ¬åœ°å¿«æ·ç™»å½•æ¼æ´å¤ç°/12-23-40.jpg">
<meta property="og:image" content="https://www.wzsite.cn/2019/01/22/è®°ä¸€æ¬¡QQæœ¬åœ°å¿«æ·ç™»å½•æ¼æ´å¤ç°/12-35-52.jpg">
<meta property="og:image" content="https://www.wzsite.cn/2019/01/22/è®°ä¸€æ¬¡QQæœ¬åœ°å¿«æ·ç™»å½•æ¼æ´å¤ç°/12-36-12.jpg">
<meta property="og:image" content="https://www.wzsite.cn/2019/01/22/è®°ä¸€æ¬¡QQæœ¬åœ°å¿«æ·ç™»å½•æ¼æ´å¤ç°/12-39-22.jpg">
<meta property="og:image" content="https://www.wzsite.cn/2019/01/22/è®°ä¸€æ¬¡QQæœ¬åœ°å¿«æ·ç™»å½•æ¼æ´å¤ç°/12-40-16.jpg">
<meta property="og:updated_time" content="2019-01-22T05:00:03.937Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="è®°ä¸€æ¬¡QQæœ¬åœ°å¿«æ·ç™»å½•æ¼æ´å¤ç°">
<meta name="twitter:description" content="èƒŒæ™¯ æ˜¨å¤©æˆ‘çš„ç©ºé—´å’ŒQç¾¤å‘å¸ƒäº†ä¸€äº›è«åå…¶å¦™çš„ä¸œè¥¿ï¼Œå¤§æ¦‚æ˜¯å› ä¸ºå‰ä¸¤å¤©å»ç½‘å§å¼€é»‘ç™»äº†QQã€‚èŠ±äº†ä¸€äº›æ—¶é—´ï¼Œå¼„æ¸…æ¥šäº†è¿™äº›æ¼æ´çš„åŸç†ï¼Œæäº†ä¸€ä¸‹å¤ç°ã€‚ æœ¬ç¯‡æ–‡ç« å°±æ¥è¯´ä¸€è¯´è¿™äº›é»‘é˜”æ˜¯æ€ä¹ˆå¸®æˆ‘å‘è¯´è¯´çš„ã€‚">
<meta name="twitter:image" content="https://www.wzsite.cn/2019/01/22/è®°ä¸€æ¬¡QQæœ¬åœ°å¿«æ·ç™»å½•æ¼æ´å¤ç°/11-13-27.jpg">





  
  
  <link rel="canonical" href="https://www.wzsite.cn/2019/01/22/è®°ä¸€æ¬¡QQæœ¬åœ°å¿«æ·ç™»å½•æ¼æ´å¤ç°/"/>



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>è®°ä¸€æ¬¡QQæœ¬åœ°å¿«æ·ç™»å½•æ¼æ´å¤ç° | Wz's Blog</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Wz's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">å®‰å…¨èœé¸¡çš„æŒ–å‘å¡«å‘ä¹‹æ—…</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br/>é¦–é¡µ</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br/>å½’æ¡£</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br/>åˆ†ç±»</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br/>æ ‡ç­¾</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br/>å…³äº</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    
  
  

  

  <a href="https://github.com/testzero-wz" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>



    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.wzsite.cn/2019/01/22/è®°ä¸€æ¬¡QQæœ¬åœ°å¿«æ·ç™»å½•æ¼æ´å¤ç°/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="W z"/>
      <meta itemprop="description" content=""/>
      <meta itemprop="image" content="/images/avatar.gif"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Wz's Blog"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">è®°ä¸€æ¬¡QQæœ¬åœ°å¿«æ·ç™»å½•æ¼æ´å¤ç°

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-01-22 10:19:00 / ä¿®æ”¹æ—¶é—´ï¼š13:00:03" itemprop="dateCreated datePublished" datetime="2019-01-22T10:19:00+08:00">2019-01-22</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/å®‰å…¨ä¹‹æ—…/" itemprop="url" rel="index"><span itemprop="name">å®‰å…¨ä¹‹æ—…</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="post-meta-item-icon"
            >
            <i class="fa fa-eye"></i>
             é˜…è¯»æ¬¡æ•°ï¼š 
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>
            </span>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="èƒŒæ™¯"><a class="markdownIt-Anchor" href="#èƒŒæ™¯"></a> èƒŒæ™¯</h2>
<p>æ˜¨å¤©æˆ‘çš„ç©ºé—´å’ŒQç¾¤å‘å¸ƒäº†ä¸€äº›è«åå…¶å¦™çš„ä¸œè¥¿ï¼Œå¤§æ¦‚æ˜¯å› ä¸ºå‰ä¸¤å¤©å»ç½‘å§å¼€é»‘ç™»äº†QQã€‚èŠ±äº†ä¸€äº›æ—¶é—´ï¼Œå¼„æ¸…æ¥šäº†è¿™äº›æ¼æ´çš„åŸç†ï¼Œæäº†ä¸€ä¸‹å¤ç°ã€‚<br>
æœ¬ç¯‡æ–‡ç« å°±æ¥è¯´ä¸€è¯´è¿™äº›é»‘é˜”æ˜¯æ€ä¹ˆå¸®æˆ‘å‘è¯´è¯´çš„ã€‚</p>
<a id="more"></a>
<h2 id="å†·é™åˆ†æ"><a class="markdownIt-Anchor" href="#å†·é™åˆ†æ"></a> å†·é™åˆ†æ</h2>
<p>é‡åˆ°è¿™ç§æƒ…å†µï¼Œä¸€å¼€å§‹æƒ³åˆ°çš„æ˜¯CSRFï¼Œæ¯•ç«Ÿä¹‹å‰é‡åˆ°è¿‡â€œQQç©ºé—´è •è™«â€è¿™æ ·çš„äº‹æƒ…ï¼Œä½†æ˜¯ç»“åˆå»ç½‘å§çš„è¡Œä¸ºï¼Œå¹¶æ²¡æœ‰æ‰“å¼€ä»€ä¹ˆç½‘é¡µï¼Œç™»å½•äº†ç©ºé—´å¹¶è¿›è¡Œå…¶ä»–ä»€ä¹ˆæ“ä½œï¼Œæ•…æ’é™¤ã€‚<br>
é‚£ä¹ˆçŒœæµ‹ï¼Œå¾ˆå¤§æ¦‚ç‡æ˜¯å› ä¸ºåœ¨ç½‘å§å¼€é»‘çš„æ—¶å€™ç™»å½•äº†QQï¼Œç„¶åè·å–åˆ°äº†æœ¬åœ°QQçš„ä¸€äº›æƒé™ï¼Œè¢«ä»£æ›¿è¿›è¡Œäº†ä¸€äº›é«˜æƒé™æ“ä½œï¼Œæ¯”å¦‚å‘ä¿¡æ¯ï¼Œå‘è¯´è¯´ã€‚</p>
<h2 id="ç½ªé­ç¥¸é¦–å¿«æ·ç™»å½•"><a class="markdownIt-Anchor" href="#ç½ªé­ç¥¸é¦–å¿«æ·ç™»å½•"></a> ç½ªé­ç¥¸é¦–â€”â€”å¿«æ·ç™»å½•</h2>
<p>ç»è¿‡æŸ¥é˜…èµ„æ–™ï¼ŒåŸºæœ¬åå®äº†æ˜¯å¿«æ·ç™»å½•çš„é”…<br>
ä»¥ä¸‹æ˜¯å¯¹æ•´å¥—é»‘äº§è¡Œä¸ºçš„æ¦‚æ‹¬</p>

<p>å¯¹å¿«æ·ç™»å½•ç ”ç©¶äº†ä¸€ä¸‹åˆï¼Œä¹Ÿç”¨pythonåšäº†å¤ç°ï¼Œä¸‹é¢å¯¹å…¶è¿›è¡ŒæŠ€æœ¯åˆ†æ</p>
<h2 id="æŠ€æœ¯åˆ†æ"><a class="markdownIt-Anchor" href="#æŠ€æœ¯åˆ†æ"></a> æŠ€æœ¯åˆ†æ</h2>
<p>QQç°åœ¨å®ç°å¿«æ·ç™»å½•çš„æ–¹å¼æ˜¯è¿™æ ·çš„</p>
<ol>
<li>æœ¬åœ°èµ·ä¸€ä¸ªæœåŠ¡å™¨ï¼Œæœ¬åœ°ä¾¦å¬<code>4301</code>ç«¯å£ï¼Œç­‰å¾…æœ¬åœ°åº”ç”¨ä¸å…¶è¿›è¡ŒHTTPäº¤äº’</li>
<li>åº”ç”¨æŒ‰ç…§æ¥å£è¦æ±‚ï¼Œä»è¿œç¨‹æœåŠ¡å™¨è·å–<code>pt_local_token</code>ï¼Œç„¶åå¸¦ç€è¿™ä¸ªå‚æ•°è¯·æ±‚4301ç«¯å£ï¼Œè·å–æœ¬åœ°ç™»å½•çš„è´¦å·ä¿¡æ¯</li>
<li>æ‹¿åˆ°è´¦å·åï¼Œå†æ¬¡è¯·æ±‚æœ¬åœ°çš„<code>4301</code>ç«¯å£ï¼Œè¯·æ±‚æŒ‡å®šè´¦å·ç™»å½•<code>cookie</code>ï¼Œè·å¾—<code>clientkey</code></li>
<li>è¯·æ±‚è¿œç¨‹ç™»å½•æœåŠ¡å™¨ï¼Œè·å–å¯¹åº”è´¦å·çš„å¯¹åº”ä¸šåŠ¡çš„cookieï¼Œç„¶åå°±æ˜¯è¯·æ±‚ä¸€ä¸ªæ£€æŸ¥çš„ç½‘é¡µï¼Œé€šè¿‡éªŒè¯ï¼Œè¿”å›è®¤è¯ä»¤ç‰Œï¼ˆ<code>skey</code>ï¼‰ã€‚å¸¦ç€è¿™ä¸ªä»¤ç‰Œå°±å¯ä»¥å¯¹åº”ç”¨è¿›è¡Œç™»å½•äº†<br>
å¯ä»¥çœ‹å‡ºï¼Œæœ¬åœ°çš„ä»»ä½•åº”ç”¨éƒ½å¯ä»¥ä¸QQå»ºç«‹çš„æœ¬åœ°æœåŠ¡å™¨è¿›è¡Œäº¤äº’ï¼Œè·å–åˆ°è´¦å·ä¿¡æ¯ï¼Œè¿›è€Œè¿›è¡Œå¿«æ·ç™»å½•ã€‚æ¼æ´å°±å‡ºåœ¨è¿™ã€‚</li>
</ol>
<p>ç°åœ¨å¯¹å¿«æ·ç™»å½•çš„è¯·æ±‚è¿›è¡Œè¯¦ç»†çš„æŠ“åŒ…åˆ†æã€‚<br>
1. å‘è¿œå¤„æœåŠ¡å™¨è¯·æ±‚ï¼Œè·å–åˆ°<code>pt_local_token</code>å‚æ•°</p>
<img src="/2019/01/22/è®°ä¸€æ¬¡QQæœ¬åœ°å¿«æ·ç™»å½•æ¼æ´å¤ç°/11-13-27.jpg" alt="11-13-27.jpg" title="">è¯·æ±‚åŸŸå`xui.ptlogin2.qq.com`
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">GET /cgi-bin/xlogin?proxy_url=https%3A//qzs.qq.com/qzone/v6/portal/proxy.html&amp;daid=5&amp;&amp;hide_title_bar=1&amp;low_login=0&amp;qlogin_auto_login=1&amp;no_verifyimg=1&amp;link_target=blank&amp;appid=549000912&amp;style=22&amp;target=self&amp;s_url=https%3A%2F%2Fqzs.qzone.qq.com%2Fqzone%2Fv5%2Floginsucc.html%3Fpara%3Dizone&amp;pt_qr_app=%E6%89%8B%E6%9C%BAQQ%E7%A9%BA%E9%97%B4&amp;pt_qr_link=http%3A//z.qzone.com/download.html&amp;self_regurl=https%3A//qzs.qq.com/qzone/v6/reg/index.html&amp;pt_qr_help_link=http%3A//z.qzone.com/download.html&amp;pt_no_auth=1 HTTP/1.1</div><div class="line">Host: xui.ptlogin2.qq.com</div></pre></td></tr></table></figure>
<p>urlå…¶ä¸­çš„ä¸€äº›å‚æ•°å¹¶ä¸éœ€è¦ç†ä¼šï¼ŒæŠ“ä¸ªåŒ…å¤åˆ¶ä¸Šå»å°±å¥½ã€‚<br>
è¿™ä¸ªè¯·æ±‚æ£€æŸ¥äº†<code>Referer</code>ï¼Œæ‰€ä»¥<code>Referer</code>è¦æ”¹æˆ<code>*.qq.com</code><br>
è¯·æ±‚çš„å“åº”ä¸­ï¼Œè®¾ç½®äº†<code>pt_local_token</code>è¿™ä¸ªcookie</p>
<img src="/2019/01/22/è®°ä¸€æ¬¡QQæœ¬åœ°å¿«æ·ç™»å½•æ¼æ´å¤ç°/11-16-45.jpg" alt="11-16-45.jpg" title="">2\. å¸¦ç€` pt_local_token`ï¼Œå¯¹æœ¬åœ°ç«¯å£è¿›è¡Œè¯·æ±‚ï¼Œè·å–è´¦å·ä¿¡æ¯
<img src="/2019/01/22/è®°ä¸€æ¬¡QQæœ¬åœ°å¿«æ·ç™»å½•æ¼æ´å¤ç°/11-19-08.jpg" alt="11-19-08.jpg" title="">è¿”å›çš„å“åº”æ˜¯ä¸€æ®µJS
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">HTTP/1.1 200 OK</div><div class="line">Content-Type: Application/javascript</div><div class="line">Content-Length: 323</div><div class="line"></div><div class="line">var var_sso_uin_list=[&#123;&quot;account&quot;:&quot;12345678&quot;,&quot;client_type&quot;:65793,&quot;face_index&quot;:0,&quot;gender&quot;:1,&quot;nickname&quot;:&quot;testzero&quot;,&quot;uin&quot;:&quot;12345678&quot;,&quot;uin_flag&quot;:4719111&#125;,&#123;&quot;account&quot;:&quot;12345678&quot;,&quot;client_type&quot;:65793,&quot;face_index&quot;:534,&quot;gender&quot;:1,&quot;nickname&quot;:&quot;testzero&quot;,&quot;uin&quot;:&quot;12345678&quot;,&quot;uin_flag&quot;:32142&#125;];ptui_getuins_CB(var_sso_uin_list);</div></pre></td></tr></table></figure>
<p>è¿™é‡Œé¢åŒ…å«æœ¬åœ°å·²ç™»å½•çš„è´¦æˆ·ä¿¡æ¯ï¼ŒåŒ…æ‹¬è´¦å·ï¼Œæ˜µç§°å’Œæ€§åˆ«ä»¥åŠä¸€äº›å…¶ä»–å‚æ•°</p>
<p>3. å¸¦ç€<code>pt_local_token</code>ä»¥åŠè´¦å·å¯¹æœ¬åœ°ç«¯å£è¿›è¡Œè¯·æ±‚ï¼Œè·å–æŒ‡å®šè´¦å·çš„<code>clientkey</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">GET /pt_get_st?clientuin=3537***086&amp;callback=ptui_getst_CB&amp;r=0.03809848617064593&amp;pt_local_tk=2008428654 HTTP/1.1</div><div class="line">Host: localhost.ptlogin2.qq.com:4301</div></pre></td></tr></table></figure>
<p>å…¶ä¸­å‚æ•°<code>clientuin</code>æ˜¯Qå·ï¼Œ<code>r</code>æ˜¯éšæœºæ•°ï¼Œå¯ä»¥éšä¾¿ç»™ï¼Œ<code>pt_local_tk</code>å°±æ˜¯<code>pt_local_token</code><br>
è¯·æ±‚å“åº”è¿”å›ä¸€ä¸ª<code>clientkey</code>çš„<code>Set-Cookie</code></p>
<img src="/2019/01/22/è®°ä¸€æ¬¡QQæœ¬åœ°å¿«æ·ç™»å½•æ¼æ´å¤ç°/12-05-55.jpg" alt="12-05-55.jpg" title="">
<p>4. å¸¦ç€åŒ…å«<code>clientkey</code>çš„cookieå‘è¿œç¨‹æœåŠ¡å™¨è¿›è¡Œç™»å½•</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">GET /jump?clientuin=3537***086&amp;keyindex=9&amp;pt_aid=549000912&amp;daid=5&amp;u1=https%3A%2F%2Fqzs.qzone.qq.com%2Fqzone%2Fv5%2Floginsucc.html%3Fpara%3Dizone&amp;pt_local_tk=2008428654&amp;pt_3rd_aid=0&amp;ptopt=1&amp;style=40 HTTP/1.1</div><div class="line">Host: ssl.ptlogin2.qq.com</div></pre></td></tr></table></figure>
<p>å…¶ä¸­<code>clientuin</code>æ˜¯è´¦å·ï¼Œ<code>u1</code>æ˜¯å¯¹åº”ä¸šåŠ¡çš„åœ°å€ï¼Œå„ç§å¸¦ç€<code>id</code>çš„å­—æ®µåº”è¯¥éƒ½æ˜¯å¯¹åº”ä¸šåŠ¡ï¼ŒæŠ“ä¸ªåŒ…å¤åˆ¶ä¸‹æ¥å°±å¥½äº†ï¼Œä¸ç”¨å¤ªåœ¨æ„ã€‚<br>
è¿™ä¸€æ­¥å¹¶ä¸éœ€è¦ä»€ä¹ˆè®¤è¯ï¼Œå¸¦ä¸Šåˆšæ‰çš„Cookieï¼Œå‘é€å¯¹åº”çš„è¯·æ±‚å°±å¯ä»¥è·å¾—ç™»å½•çš„Cookieï¼ˆåŒ…å«<code>skey</code>å­—æ®µï¼‰ï¼Œä»¥åŠä¼šè¿”å›ä¸€ä¸ªéªŒè¯çš„ç½‘å€ï¼Œéœ€è¦<code>GET</code>ä¸€ä¸‹è¿™ä¸ªç½‘å€æ‰èƒ½è·å–åˆ°çœŸæ­£çš„åº”ç”¨ç™»å½•Cookieï¼ˆåŒ…å«<code>p_skey</code>å­—æ®µï¼‰<br>
è¯·æ±‚å“åº”ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">HTTP/1.1 200 OK</div><div class="line">Date: Tue, 22 Jan 2019 03:27:50 GMT</div><div class="line">Content-Type: application/javascript</div><div class="line">P3P: CP=CAO PSA OUR</div><div class="line">Server: Tencent Login Server/2.0.0</div><div class="line">Strict-Transport-Security: max-age=31536000</div><div class="line">Set-Cookie: pt2gguin=;Expires=Thu, 01 Jan 1970 00:00:00 GMT;Path=/;Domain=qq.com;</div><div class="line">Set-Cookie: pt2gguin=o3534***3086;Expires=Tue, 19 Jan 2038 03:14:07 GMT;Path=/;Domain=ptlogin2.qq.com;</div><div class="line">Set-Cookie: ETK=;Path=/;Domain=ptlogin2.qq.com;</div><div class="line">Set-Cookie: uin=o3534***3086;Path=/;Domain=qq.com;</div><div class="line">Set-Cookie: skey=@72eionO2j;Path=/;Domain=qq.com;</div><div class="line">çœç•¥è‹¥å¹²Set-Cookie</div><div class="line"></div><div class="line">ptui_qlogin_CB(&apos;0&apos;, &apos;https://ptlogin2.qzone.qq.com/check_sig?pttype=2&amp;uin=3534***3086&amp;service=jump&amp;nodirect=0&amp;ptsigx=a1199b83fbabffba57f259d79a1d2f221d70579cde815b7284a9d8201fc4d9a34bc133aacc444dd2309b1908aa05393ddc39433&amp;s_url=https%3A%2F%2Fqzs.qzone.qq.com%2Fqzone%2Fv5%2Floginsucc.html%3Fpara%3Dizone&amp;f_url=&amp;ptlang=2052&amp;ptredirect=100&amp;aid=1000101&amp;daid=5&amp;j_later=0&amp;low_login_hour=0&amp;regmaster=0&amp;pt_login_type=2&amp;pt_aid=549000912&amp;pt_aaid=0&amp;pt_light=0&amp;pt_3rd_aid=0&apos;, &apos;&apos;)</div></pre></td></tr></table></figure>
<p>è¿”å›çš„æ˜¯ä¸€æ®µJSï¼Œé‡Œé¢çš„ç½‘å€æ˜¯éªŒè¯ç½‘å€ï¼Œæˆ‘ä»¬éœ€è¦è¯·æ±‚å®ƒé€šè¿‡éªŒè¯ï¼Œä¸éœ€è¦é¢å¤–çš„å‚æ•°ï¼Œç›´æ¥è¯·æ±‚è¿”å›å›æ¥çš„è¿™ä¸€ä¸²ç½‘å€<br>
5. è¯·æ±‚ç¬¬4æ­¥è¿”å›çš„éªŒè¯ç½‘å€å³å¯è·å¾—å®Œæ•´çš„ç™»å½•æƒé™</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">HTTP/1.1 302 Found</div><div class="line">Date: Tue, 22 Jan 2019 03:27:50 GMT</div><div class="line">Server: Tencent Login Server/2.0.0</div><div class="line">Strict-Transport-Security: max-age=31536000</div><div class="line">Set-Cookie: uin=o3534***3086;Path=/;Domain=qq.com;</div><div class="line">Set-Cookie: skey=@72fei1O2j;Path=/;Domain=qq.com;</div><div class="line">Set-Cookie: pt2gguin=;Expires=Thu, 01 Jan 1970 00:00:00 GMT;Path=/;Domain=qq.com; pt4_token=dZaYtbPkQf38MeZh8ik9jOmLtrxcrEMguvM_;Path=/;Domain=qzone.qq.com;</div><div class="line">Set-Cookie: p_skey=hlcQmdkZHYwNk5y2XGipsSOm0Igjj7AKo_;Path=/;Domain=qzone.qq.com;Secure;</div><div class="line">çœç•¥è‹¥å¹²Set-Cookie</div></pre></td></tr></table></figure>
<h3 id="å¯¹æœ¬åœ°è´¦å·è‡ªåŠ¨å‘ä¸€æ¡è¯´è¯´"><a class="markdownIt-Anchor" href="#å¯¹æœ¬åœ°è´¦å·è‡ªåŠ¨å‘ä¸€æ¡è¯´è¯´"></a> å¯¹æœ¬åœ°è´¦å·è‡ªåŠ¨å‘ä¸€æ¡è¯´è¯´</h3>
<p>è¦å®ç°è¿™ä¸ªç›®çš„æ— éå°±æ˜¯å®Œæˆä¸Šé¢çš„å¿«æ·ç™»å½•ï¼Œç„¶åå†åœ¨ç©ºé—´é‡Œé¢å¯»æ±‚å‘è¯´è¯´çš„è¯·æ±‚ï¼Œæ¨¡æ‹Ÿä¸€ä¸‹å³å¯<br>
åŸºæœ¬çš„æŠ“åŒ…æ‰¾å‚æ•°çš„åŠŸå¤«å°±ä¸ç»†è¯´äº†<br>
å€¼å¾—ä¸€æçš„æ˜¯ç©ºé—´æ˜¯æœ‰CSRFé˜²å¾¡çš„ï¼Œæ‰€ä»¥éœ€è¦æ‰¾åˆ°ä¸¤ä¸ªå‚æ•°æ‰èƒ½å‘é€è¯´è¯´</p>
<ol>
<li>qzone_token</li>
<li>g_tk<br>
å…¶ä¸­<code>qzone_token</code>æ˜¯åˆ·æ–°ç©ºé—´çš„æ—¶å€™åœ¨é¡µé¢ä¸­ç»™ä½ çš„ä¸€ä¸ª<code>token</code>ï¼Œç›´æ¥æ­£åˆ™æ‹¿åˆ°å°±å¥½</li>
</ol>
<img src="/2019/01/22/è®°ä¸€æ¬¡QQæœ¬åœ°å¿«æ·ç™»å½•æ¼æ´å¤ç°/12-23-40.jpg" alt="12-23-40.jpg" title="">è¿½è¸ª`g_tk`å‚æ•°èŠ±äº†æˆ‘ä¸å°‘åŠŸå¤«ï¼Œå…¶æºç åœ¨[https://qzonestyle.gtimg.cn/qzone/v8/engine/migrate-plugin.js](https://qzonestyle.gtimg.cn/qzone/v8/engine/migrate-plugin.js) çš„`getACSRFToken`å‡½æ•°ä¸­
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">getACSRFToken:<span class="function"><span class="keyword">function</span>(<span class="params">url</span>) </span>&#123;</div><div class="line">    url = QZFL.util.URI(url);</div><div class="line">    <span class="keyword">var</span> skey;</div><div class="line">    <span class="keyword">if</span> (url) &#123;</div><div class="line">      <span class="keyword">if</span> (url.host &amp;&amp; url.host.indexOf(<span class="string">"qzone.qq.com"</span>) &gt; <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">try</span> &#123;</div><div class="line">          skey = QZONE.FP._t.QZFL.cookie.get(<span class="string">"p_skey"</span>);</div><div class="line">        &#125; <span class="keyword">catch</span> (err) &#123;</div><div class="line">          skey = QZFL.cookie.get(<span class="string">"p_skey"</span>);</div><div class="line">        &#125;</div><div class="line">      &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">if</span> (url.host &amp;&amp; url.host.indexOf(<span class="string">"qq.com"</span>) &gt; <span class="number">0</span>) &#123;</div><div class="line">          skey = QZFL.cookie.get(<span class="string">"skey"</span>);</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (!skey) &#123;</div><div class="line">      skey = QZFL.cookie.get(<span class="string">"p_skey"</span>) || (QZFL.cookie.get(<span class="string">"skey"</span>) || (QZFL.cookie.get(<span class="string">"rv2"</span>) || <span class="string">""</span>));</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">var</span> hash = <span class="number">5381</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = skey.length;i &lt; len;++i) &#123;</div><div class="line">      hash += (hash &lt;&lt; <span class="number">5</span>) + skey.charCodeAt(i);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> hash &amp; <span class="number">2147483647</span>;</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<p>å…¶å®å°±æ˜¯å„ç§åˆ¤æ–­<code>Cookie</code>é‡Œé¢æ˜¯å¦å­˜åœ¨<code>skey</code>æˆ–è€…<code>p_skey</code>ç„¶åæ‹¿æ¥åšä¸€ä¸ªç®€å•çš„ç§»ä½åŠ å¯†<br>
æ ¸å¿ƒä»£ç å°±è¿™ç‚¹ï¼Œæ¯”æ‰“CTFçš„æ—¶å€™ç®€å•å¤šäº†è¯¶ï¼Œæ”¾æ¯”èµ›é‡Œç®€ç›´å°±æ˜¯é€åˆ†</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> hash = <span class="number">5381</span>;</div><div class="line">   <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = skey.length;i &lt; len;++i) &#123;</div><div class="line">     hash += (hash &lt;&lt; <span class="number">5</span>) + skey.charCodeAt(i);</div><div class="line">   &#125;</div><div class="line">   <span class="keyword">return</span> hash &amp; <span class="number">2147483647</span>;</div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<p>æ‰€ä»¥å¯ä»¥çœ‹å‡º<code>g_tk</code>æ˜¯ç”±<code>p_skey</code>ç®€å•çš„ç§»ä½åŠ å¯†ç”Ÿæˆçš„<br>
é‚£ä¹ˆæŠ“åŒ…ä¸€ä¸‹å‘è¯´è¯´çš„è¯·æ±‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">https://user.qzone.qq.com/proxy/domain/taotao.qzone.qq.com/cgi-bin/emotion_cgi_publish_v6?qzonetoken=&#123;&#125;&amp;g_tk=&#123;&#125;</div></pre></td></tr></table></figure>
<p>å°†<code>qzonetoken</code>å’Œ<code>g_tk</code>æ”¾è¿›å»ï¼Œå†åœ¨<code>POST</code>æ•°æ®é‡Œé¢çš„<code>con</code>å­—æ®µå˜æˆä½ æƒ³å‘çš„è¯´è¯´ï¼Œå°±å¯ä»¥å®Œæˆç±»ä¼¼äºä½ åœ¨æˆ‘ç”µè„‘ä¸Šä¸Šä¸ªQæˆ‘å°±èƒ½è¿›åˆ°ä½ çš„ç©ºé—´å‘è¯´è¯´ï¼Œçœ‹éšç§çš„ç›®çš„ã€‚</p>
<h3 id="å¤ç°"><a class="markdownIt-Anchor" href="#å¤ç°"></a> å¤ç°</h3>
<p>èŠ±äº†å‡ ä¸ªå°æ—¶å†™äº†å¤ç°è„šæœ¬<br>
<strong>åªè¦è„šæœ¬è¿è¡Œï¼Œåœ¨æœ¬æœºä¸Šçº¿çš„QQéƒ½ä¼šå‘ä¸€æ¡è¯´è¯´ä»¥åŠè¢«è·å–åˆ°æ‰€æœ‰å¥½å‹ä¿¡æ¯ã€å¤‡æ³¨ã€æ˜µç§°ä»¥åŠå¥½å‹åˆ†ç»„</strong><br>
æ£€æµ‹æœ¬åœ°è´¦å·</p>
<img src="/2019/01/22/è®°ä¸€æ¬¡QQæœ¬åœ°å¿«æ·ç™»å½•æ¼æ´å¤ç°/12-35-52.jpg" alt="12-35-52.jpg" title="">å‘é€æŒ‡å®šè¯´è¯´
<img src="/2019/01/22/è®°ä¸€æ¬¡QQæœ¬åœ°å¿«æ·ç™»å½•æ¼æ´å¤ç°/12-36-12.jpg" alt="12-36-12.jpg" title="">
<p>è·å–å¥½å‹åˆ—è¡¨ä¿¡æ¯ä»¥åŠåˆ†ç»„</p>
<img src="/2019/01/22/è®°ä¸€æ¬¡QQæœ¬åœ°å¿«æ·ç™»å½•æ¼æ´å¤ç°/12-39-22.jpg" alt="12-39-22.jpg" title="">
<img src="/2019/01/22/è®°ä¸€æ¬¡QQæœ¬åœ°å¿«æ·ç™»å½•æ¼æ´å¤ç°/12-40-16.jpg" alt="12-40-16.jpg" title="">
<p>æµ‹è¯•æºç <br>
ï¼ˆè„šæœ¬ä»…ä¾›å­¦ä¹ ä¹‹ç”¨ï¼Œç¦æ­¢ç”¨äºéæ³•ç”¨é€”ï¼ï¼‰</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> requests</div><div class="line"><span class="keyword">import</span> re</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># è®¡ç®—å‘é€è¯´è¯´çš„é˜²å¾¡CSRFçš„Token</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">getACSRFToken</span><span class="params">(p_skey)</span>:</span></div><div class="line">    hash_v = <span class="number">5381</span></div><div class="line">    <span class="keyword">if</span> p_skey:</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(p_skey)):</div><div class="line">            hash_v += (hash_v &lt;&lt; <span class="number">5</span>) + ord(p_skey[i])</div><div class="line">        <span class="keyword">return</span> hash_v &amp; <span class="number">2147483647</span></div><div class="line">    <span class="keyword">return</span> <span class="keyword">None</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># æƒ³è¦å‘é€çš„è¯´è¯´</span></div><div class="line">Message = <span class="string">"This is an automated messaging test by wz"</span></div><div class="line"></div><div class="line">header = &#123;</div><div class="line">    <span class="string">"User-Agent"</span>: <span class="string">"Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.80 Safari/537.36"</span>,</div><div class="line">    <span class="string">"Referer"</span>: <span class="string">"https://i.qq.com/"</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment"># ä»QQæœåŠ¡å™¨è·å–è¯·æ±‚æœ¬åœ°æœåŠ¡å™¨çš„Cookie</span></div><div class="line">get_local_token_url = <span class="string">"https://xui.ptlogin2.qq.com/cgi-bin/xlogin?"</span> \</div><div class="line">                      <span class="string">"proxy_url=https%3A//qzs.qq.com/qzone/v6/portal/proxy.html&amp;daid=5&amp;&amp;hide_title_bar=1&amp;"</span> \</div><div class="line">                      <span class="string">"low_login=0&amp;qlogin_auto_login=1&amp;no_verifyimg=1&amp;link_target=blank&amp;"</span> \</div><div class="line">                      <span class="string">"appid=549000912&amp;style=22&amp;target=self&amp;"</span> \</div><div class="line">                      <span class="string">"s_url=https%3A%2F%2Fqzs.qzone.qq.com%2Fqzone%2Fv5%2Floginsucc.html%3Fpara%3Dizone&amp;pt_qr_app=%E6%89%8B%E6%9C%BAQQ%E7%A9%BA%E9%97%B4&amp;"</span> \</div><div class="line">                      <span class="string">"pt_qr_link=http%3A//z.qzone.com/download.html&amp;self_regurl=https%3A//qzs.qq.com/qzone/v6/reg/index.html&amp;"</span> \</div><div class="line">                      <span class="string">"pt_qr_help_link=http%3A//z.qzone.com/download.html&amp;pt_no_auth=1"</span></div><div class="line"></div><div class="line"><span class="comment"># Headerå¤´Refererå­—æ®µå¿…é¡»ä¸ºqq.com</span></div><div class="line">login_session = requests.Session()</div><div class="line">res = login_session.get(get_local_token_url, headers=header)</div><div class="line"></div><div class="line"><span class="comment"># è·å–å…³é”®å‚æ•°pt_local_token</span></div><div class="line">pt_local_token = res.cookies.get(<span class="string">"pt_local_token"</span>)</div><div class="line"></div><div class="line"><span class="comment"># å¸¦ç€åˆšæ‰çš„Cookieä»¥åŠä»Cookieä¸­æ‹¿åˆ°çš„pt_local_tkå¯¹æœ¬åœ°æœåŠ¡å™¨è¿›è¡Œè¯·æ±‚</span></div><div class="line"><span class="comment"># è·å–å·²ç™»å½•çš„è´¦å·ä¿¡æ¯</span></div><div class="line">port = <span class="number">4301</span></div><div class="line">local_qq_server_url = <span class="string">"https://localhost.ptlogin2.qq.com"</span>  <span class="comment"># å»ºç«‹åœ¨æœ¬åœ°çš„QQæœåŠ¡å™¨åœ°å€ï¼Œç­‰å¾…åº”ç”¨ä¸å…¶äº¤äº’</span></div><div class="line"></div><div class="line"><span class="comment"># ä¼ å‚è·å–æœ¬åœ°å·²ç™»å½•è´¦å·ä¿¡æ¯</span></div><div class="line">get_QQ_num_url = local_qq_server_url + \</div><div class="line">                 <span class="string">":&#123;&#125;/pt_get_uins?callback=ptui_getuins_CB&amp;r=0.7068102287925351&amp;pt_local_tk=&#123;&#125;"</span>.format(port,</div><div class="line">                                                                                                       pt_local_token)</div><div class="line"></div><div class="line">res = login_session.get(get_QQ_num_url, headers=header)</div><div class="line"><span class="comment"># è¿”å›çš„è´¦å·ä¿¡æ¯æ˜¯ä¸€æ®µjsçš„æ•°ç»„</span></div><div class="line">dic_str = <span class="keyword">None</span></div><div class="line"><span class="keyword">try</span>:</div><div class="line">    dic_str = re.findall(<span class="string">"var var_sso_uin_list=(\[[\s\S]*?\])"</span>, res.text)[<span class="number">0</span>]</div><div class="line"><span class="keyword">except</span> IndexError:</div><div class="line">    print(<span class="string">"Fail to get local account info. "</span>)</div><div class="line">    exit(<span class="number">0</span>)</div><div class="line"></div><div class="line"><span class="comment"># ====================================== æ˜¾ç¤ºæœ¬åœ°ç™»å½•è´¦å·ä¿¡æ¯ ===========================================</span></div><div class="line">account_list = eval(dic_str)</div><div class="line">print(<span class="string">"Detect &#123;&#125; account login locally"</span>.format(len(account_list)))</div><div class="line">print(<span class="string">"====================================================="</span>)</div><div class="line"></div><div class="line">account_num_list = []</div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(account_list)):</div><div class="line">    print(<span class="string">"NO.&#123;&#125;"</span>.format(i + <span class="number">1</span>))</div><div class="line">    print(<span class="string">"account:&#123;&#125;\nnickname:&#123;&#125;"</span>.format(account_list[i].get(<span class="string">"account"</span>), account_list[i].get(<span class="string">"nickname"</span>)))</div><div class="line">    account_num_list.append(account_list[i].get(<span class="string">"account"</span>))</div><div class="line">print(<span class="string">"====================================================="</span>)</div><div class="line"></div><div class="line"><span class="comment"># ====================================== å¯¹æ¯ä¸ªè´¦å·è¿›è¡Œå¿«æ·ç™»å½• ===========================================</span></div><div class="line"><span class="comment"># ===================================== ä»¥ç™»å½•QQç©ºé—´å‘ä¸ªè¯´è¯´ä¸ºä¾‹ ==========================================</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># å¯¹äºå·²ç™»å½•çš„è´¦å·</span></div><div class="line"><span class="keyword">for</span> account <span class="keyword">in</span> account_num_list:</div><div class="line">    <span class="comment"># å‘é€QQå·ç åŠpt_local_tokenå‚æ•°åˆ°æœ¬åœ°æœåŠ¡å™¨è·å–å¿…è¦çš„Cookieï¼Œä»¥ä¾¿è·å–è¿œç¨‹æœåŠ¡å™¨ç™»å½•è®¸å¯</span></div><div class="line">    get_QQ_cookie_url = local_qq_server_url + \</div><div class="line">                        <span class="string">":&#123;&#125;/pt_get_st?callback=ptui_getst_CB&amp;"</span> \</div><div class="line">                        <span class="string">"r=0.7068102287925351&amp;"</span> \</div><div class="line">                        <span class="string">"pt_local_tk=&#123;&#125;&amp;"</span> \</div><div class="line">                        <span class="string">"clientuin=&#123;&#125;"</span>.format(port,</div><div class="line">                                              pt_local_token,</div><div class="line">                                              account)</div><div class="line"></div><div class="line">    res = login_session.get(get_QQ_cookie_url, headers=header)</div><div class="line">    <span class="comment"># è·å–è¿œç¨‹ç™»å½•å‡­è¯</span></div><div class="line">    <span class="comment"># å…¶ä¸­u1ä¸ºQQç©ºé—´åœ°å€ï¼ˆæŠ“åŒ…å¯è·å¾—ï¼‰</span></div><div class="line">    login_url = <span class="string">"https://ssl.ptlogin2.qq.com/jump?clientuin=&#123;&#125;&amp;"</span> \</div><div class="line">                <span class="string">"keyindex=9&amp;"</span> \</div><div class="line">                <span class="string">"pt_aid=549000912&amp;"</span> \</div><div class="line">                <span class="string">"daid=5&amp;"</span> \</div><div class="line">                <span class="string">"u1=https%3A%2F%2Fqzs.qzone.qq.com%2Fqzone%2Fv5%2Floginsucc.html%3Fpara%3Dizone&amp;"</span> \</div><div class="line">                <span class="string">"pt_local_tk=&#123;&#125;&amp;"</span> \</div><div class="line">                <span class="string">"pt_3rd_aid=0&amp;"</span> \</div><div class="line">                <span class="string">"ptopt=1&amp;style=40"</span>.format(account, pt_local_token)</div><div class="line"></div><div class="line">    <span class="comment"># æŒ‰ç…§æŠ“åŒ…è·å¾—çš„è¯·æ±‚ç…§æ ·åœ°è®¾ç½®äº†ä¸€ä¸‹Referer å…å¾—æœ‰æ£€æµ‹</span></div><div class="line">    login_session.headers[<span class="string">'Referer'</span>] = get_local_token_url</div><div class="line">    res = login_session.get(login_url)</div><div class="line">    <span class="comment"># è‡³æ­¤è·å–å‡­è¯(clientkey)æˆåŠŸ,ä¸‹é¢è·å–p_skey</span></div><div class="line"></div><div class="line">    <span class="comment"># åˆ°æ­¤å¤„ä¼šæœ‰ä¸ªcheckæ“ä½œï¼Œéœ€è¦GETå»è¯·æ±‚éªŒè¯ä¸€ä¸‹ä¸Šä¸€ä¸ªè¯·æ±‚å“åº”å†…å®¹ç»™çš„åœ°å€</span></div><div class="line">    <span class="comment"># ============================================ è·å–p_skey ===================================================</span></div><div class="line">    zone_login_check_url = <span class="keyword">None</span></div><div class="line">    <span class="keyword">try</span>:</div><div class="line">        <span class="comment"># è·å–è®¤è¯åœ°å€åŠå‚æ•°</span></div><div class="line">        zone_login_check_url = re.findall(<span class="string">"'(http.*?)'"</span>, res.text)[<span class="number">0</span>]</div><div class="line">    <span class="keyword">except</span> IndexError:</div><div class="line">        print(<span class="string">'Fail to get login token .'</span>)</div><div class="line">        exit(<span class="number">0</span>)</div><div class="line">    <span class="comment"># å‘èµ·è®¤è¯è¯·æ±‚</span></div><div class="line">    res = login_session.get(zone_login_check_url)</div><div class="line">    <span class="comment"># ä¸€æ ·çš„è¡¥ä¸€ä¸‹Refererå’ŒUA</span></div><div class="line">    login_session.headers[<span class="string">'Referer'</span>] = <span class="string">"https://qzs.qzone.qq.com/qzone/v5/loginsucc.html?para=izone"</span></div><div class="line">    login_session.headers[</div><div class="line">        <span class="string">'User-Agent'</span>] = <span class="string">"Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.80 Safari/537.36"</span></div><div class="line">    <span class="comment"># è¯·æ±‚å¯¹åº”è´¦å·çš„ç©ºé—´ï¼Œè·å–å‘é€è¯´è¯´å¿…è¦å‚æ•°â€”â€”qzone_token(å“åº”çš„JSé‡Œé¢è·å–)ä»¥åŠp_skey(cookieä¸­è·å–)</span></div><div class="line">    res = login_session.get(<span class="string">"https://user.qzone.qq.com/&#123;&#125;"</span>.format(account))</div><div class="line"></div><div class="line">    <span class="comment"># è·å–å¿…è¦å‚æ•°p_skeyç”¨æ¥è®¡ç®—CSRFToken</span></div><div class="line">    p_skey = login_session.cookies.get(<span class="string">"p_skey"</span>)</div><div class="line">    g_tk = getACSRFToken(p_skey)  <span class="comment"># è®¡ç®—CSRFToken</span></div><div class="line">    <span class="comment"># ä»å“åº”çš„é¡µé¢JSä¸­è·å–qzone_token</span></div><div class="line">    res.encoding = <span class="string">'utf-8'</span></div><div class="line">    qzone_token = re.findall(<span class="string">'window.g_qzonetoken = \(function\(\)&#123; try\&#123;return "([0-9a-fA-F]+?)";\&#125;'</span>, res.text)[<span class="number">0</span>]</div><div class="line"></div><div class="line">    <span class="comment"># å‘é€è¯´è¯´çš„åœ°å€ï¼ˆæŠ“åŒ…å¯å¾—ï¼‰ï¼Œå¹¶ä¼ å…¥åˆšæ‰è·å–çš„qzone_tokenä»¥åŠg_tk</span></div><div class="line">    post_comment_url = <span class="string">"https://user.qzone.qq.com/proxy/domain/taotao.qzone.qq.com/cgi-bin/emotion_cgi_publish_v6?"</span> \</div><div class="line">                       <span class="string">"qzonetoken=&#123;&#125;&amp;g_tk=&#123;&#125;"</span>.format(qzone_token, g_tk)</div><div class="line">    <span class="comment"># è¡¥ä¸€ä¸‹Content-Type</span></div><div class="line">    login_session.headers[<span class="string">"Content-Type"</span>] = <span class="string">"application/x-www-form-urlencoded"</span></div><div class="line">    <span class="comment"># å‘é€è¯´è¯´çš„å¿…è¦å‚æ•°ï¼ˆæŠ“åŒ…å¯å¾—ï¼‰ï¼Œå…¶ä¸­conå­—æ®µåŠè¯´è¯´å†…å®¹</span></div><div class="line">    param = &#123;<span class="string">"syn_tweet_verson"</span>: <span class="string">"1"</span>, <span class="string">"paramstr"</span>: <span class="string">"1"</span>, <span class="string">"pic_template"</span>: <span class="string">""</span>, <span class="string">"richtype"</span>: <span class="string">""</span>, <span class="string">"richval"</span>: <span class="string">""</span>,</div><div class="line">             <span class="string">"special_url"</span>: <span class="string">""</span>, <span class="string">"subrichtype"</span>: <span class="string">""</span>, <span class="string">"who"</span>: <span class="string">"1"</span>, <span class="string">"con"</span>: Message, <span class="string">"feedversion"</span>: <span class="string">"1"</span>,</div><div class="line">             <span class="string">"ver"</span>: <span class="string">"1"</span>, <span class="string">"ugc_right"</span>: <span class="string">"1"</span>, <span class="string">"to_sign"</span>: <span class="string">"0"</span>, <span class="string">"hostuin"</span>: <span class="string">"3517713083"</span>, <span class="string">"code_version"</span>: <span class="string">"1"</span>, <span class="string">"format"</span>: <span class="string">"fs"</span>,</div><div class="line">             <span class="string">"qzreferrer"</span>: <span class="string">"https%3A%2F%2Fuser.qzone.qq.com%2F3517713083"</span>&#125;</div><div class="line">    <span class="comment"># å‘é€è¯´è¯´</span></div><div class="line">    res = login_session.post(post_comment_url, data=param)</div><div class="line">    <span class="keyword">if</span> res.status_code == <span class="number">200</span>:</div><div class="line">        print(<span class="string">"[+] Account &#123;&#125; send message successfully."</span>.format(account))</div><div class="line"></div><div class="line">    <span class="comment"># ================================================= è·å–å¥½å‹åˆ—è¡¨ =====================================================</span></div><div class="line">    <span class="comment"># æ¥å£åœ°å€</span></div><div class="line">    get_friends_url = <span class="string">"https://h5.qzone.qq.com/proxy/domain/r.qzone.qq.com/cgi-bin/tfriend/friend_show_qqfriends.cgi?"</span> \</div><div class="line">                      <span class="string">"uin=&#123;&#125;&amp;follow_flag=1&amp;"</span> \</div><div class="line">                      <span class="string">"groupface_flag=0&amp;fupdate=1&amp;"</span> \</div><div class="line">                      <span class="string">"g_tk=&#123;&#125;"</span>.format(account, g_tk)</div><div class="line">    res = login_session.get(get_friends_url)</div><div class="line">    print(<span class="string">"QQ friends info."</span>)</div><div class="line">    print(res.text)</div></pre></td></tr></table></figure>
<p>è¿™ä¸€äº›æ¥å£å…¶å®æˆ‘ä»¬éƒ½å¾ˆç†Ÿæ‚‰Webé¡µé¢çš„å¿«æ·ç™»å½•ï¼Œè¿™ä¸€äº›æ“ä½œå°±æ˜¯æ¨¡æ‹Ÿäº†æµè§ˆå™¨æˆ–è€…è¯´è½¯ä»¶å¼ºåˆ¶ä»£æ›¿ä½ è¿›è¡Œäº†å¿«æ·ç™»å½•ã€‚æ³¨æ„æ˜¯è¿è¡Œåœ¨æœ¬åœ°ä¸Šçš„ä»»ä½•è½¯ä»¶éƒ½å¯ä»¥åšåˆ°è¿™ä¸ªç›®çš„ã€‚æ‰€ä»¥è´¦å·å¯†ç å¹¶æ²¡æœ‰è¢«ç›—å–ï¼Œè€Œæ˜¯è¢«ä¸€äº›æ¶æ„çš„è½¯ä»¶ç›—å–çš„ç™»å½•å‡­è¯ï¼Œä»£æ›¿ä½ å‘é€äº†åƒåœ¾ä¿¡æ¯ã€‚å½“ç„¶æˆ‘æ²¡æœ‰è®¨è®ºå¦‚ä½•ç»•è¿‡ç½‘å§çš„è¿˜åŸæœºåˆ¶ï¼Œè¿™åˆæ˜¯å¦ä¸€ç äº‹äº†ã€‚<br>
ä¸€äº›å›¾è°‹ä¸è½¨çš„äººå°±å°†è¿™äº›æ¥å£å‡‘èµ·æ¥ï¼Œå†™ä¸ªè½¯ä»¶ç§åœ¨ç½‘å§ç­‰å…¬å…±ä¸Šç½‘è®¾æ–½ï¼Œç­‰å¾…ä¸ŠQçš„äººå¸®ä»–è¿›è¡Œä¸€äº›é»‘äº§è¡Œä¸ºï¼Œå¦‚åœ¨QQç¾¤ï¼Œç©ºé—´é‡Œé¢å‘åšå½©ã€è‰²æƒ…ä¿¡æ¯ä»¥åŠå¹¿å‘Šï¼Œè¿›è¡Œç‰Ÿåˆ©ã€‚è¿™äº›æŠ€æœ¯å¹¶ä¸å¤æ‚ï¼Œå¾ˆå¤šåˆä¸­ç”šè‡³å°å­¦æ–‡åŒ–çš„â€œå¤§é»‘é˜”â€éƒ½å¯ä»¥å†™ï¼ˆè¹²ï¼‰å‡ºï¼ˆç‰¢ï¼‰æ¥ï¼ˆé‡Œï¼‰ã€‚</p>
<p>é˜²èŒƒæªæ–½ï¼š</p>
<ol>
<li>åœ¨å…¬å…±åœºåˆå°½é‡ä¸ç™»å½•QQï¼Œæ¯•ç«Ÿè°éƒ½å¯ä»¥å¸®ä½ å‘ä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„ä¸œè¥¿</li>
<li>è‹¥å‘ç°è‡ªå·±è´¦å·å¼‚å¸¸ï¼Œå¼€å§‹ä¹±å‘ä¸œè¥¿æ—¶ï¼Œç¬¬ä¸€æ—¶é—´ä¿®æ”¹å¯†ç ä¼šå¯¼è‡´â€œå¤§é»‘é˜”â€è·å–çš„cookieç¬é—´å¤±æ•ˆï¼Œå¯ä»¥ç«‹å³åœæ­¢å‘é€åƒåœ¾ä¿¡æ¯</li>
<li>ç„¶åå°±å¯ä»¥è¿›è¡Œåˆ é™¤è¯´è¯´ï¼Œå‘ç¾¤é“æ­‰æˆ–è€…åƒæˆ‘è¿™æ ·å†™ä¸€ç¯‡æ–‡ç« è¿›è¡Œé¢å­çš„æœ€åè¡¥æ•‘äº†</li>
</ol>
<p>æœ€åç¥ä½ ç”Ÿæ´»æ„‰å¿«ï¼Œå¤§é»‘é˜” ğŸ˜ƒ</p>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/ç ä»£ç /" rel="tag"># ç ä»£ç </a>
          
            <a href="/tags/æ¸—é€/" rel="tag"># æ¸—é€</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/10/22/åŸºäºæœºå™¨å­¦ä¹ çš„Webæ—¥å¿—å¼‚å¸¸æ£€æµ‹å®è·µ/" rel="next" title="åŸºäºæœºå™¨å­¦ä¹ çš„Webæ—¥å¿—å¼‚å¸¸æ£€æµ‹å®è·µ">
                <i class="fa fa-chevron-left"></i> åŸºäºæœºå™¨å­¦ä¹ çš„Webæ—¥å¿—å¼‚å¸¸æ£€æµ‹å®è·µ
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2099/09/22/Notice/" rel="prev" title="Notice">
                Notice <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">W z</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">26</span>
                    <span class="site-state-item-name">æ—¥å¿—</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">2</span>
                    <span class="site-state-item-name">åˆ†ç±»</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">20</span>
                    <span class="site-state-item-name">æ ‡ç­¾</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/testzero-wz" title="GitHub &rarr; https://github.com/testzero-wz" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:testzero.wz@gmail.com" title="E-Mail &rarr; mailto:testzero.wz@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#èƒŒæ™¯"><span class="nav-number">1.</span> <span class="nav-text"> èƒŒæ™¯</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å†·é™åˆ†æ"><span class="nav-number">2.</span> <span class="nav-text"> å†·é™åˆ†æ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç½ªé­ç¥¸é¦–å¿«æ·ç™»å½•"><span class="nav-number">3.</span> <span class="nav-text"> ç½ªé­ç¥¸é¦–â€”â€”å¿«æ·ç™»å½•</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æŠ€æœ¯åˆ†æ"><span class="nav-number">4.</span> <span class="nav-text"> æŠ€æœ¯åˆ†æ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#å¯¹æœ¬åœ°è´¦å·è‡ªåŠ¨å‘ä¸€æ¡è¯´è¯´"><span class="nav-number">4.1.</span> <span class="nav-text"> å¯¹æœ¬åœ°è´¦å·è‡ªåŠ¨å‘ä¸€æ¡è¯´è¯´</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å¤ç°"><span class="nav-number">4.2.</span> <span class="nav-text"> å¤ç°</span></a></li></ol></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">W z</span>

  

  
</div>









        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="post-meta-item-icon">
    
      <i class="fa fa-user"></i>
	  æ€»è®¿å®¢:
    </span>
    <span class="site-uv" title="æ€»è®¿å®¢é‡">
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="post-meta-divider">|</span>
  

  
    <span class="post-meta-item-icon">
      <i class="fa fa-eye"></i>
	  æ€»æµè§ˆ:
    </span>
    <span class="site-pv" title="æ€»è®¿é—®é‡">
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/schemes/muse.js?v=7.0.1"></script>



  
  <script src="/js/src/scrollspy.js?v=7.0.1"></script>
<script src="/js/src/post-details.js?v=7.0.1"></script>



  


  <script src="/js/src/next-boot.js?v=7.0.1"></script>


  

  

  

  


  


  




  

  

  
  

  
  

  


  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
